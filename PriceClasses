import datetime

class PriceTag:
    def __init__(self, product_id, current_price):
        self.ProductID = product_id
        self.CurrentPrice = current_price
        self.LastUpdated = datetime.datetime.now()

    def update_price(self, new_price):
        self.CurrentPrice = new_price
        self.LastUpdated = datetime.datetime.now()

    def __str__(self):
        return f"Product ID: {self.ProductID}\nCurrent Price: {self.CurrentPrice}\nLast Updated: {self.LastUpdated}"

class Product:
    def __init__(self, product_id, name, description, price):
        self.ProductID = product_id
        self.Name = name
        self.Description = description
        self.Price = price

    def __str__(self):
        return f"Product ID: {self.ProductID}\nName: {self.Name}\nDescription: {self.Description}\nPrice: {self.Price}"

class ItemPrice(PriceTag):
    def __init__(self, product_id, current_price, name, currency):
        super().__init__(product_id, current_price)
        self.Name = name
        self.Currency = currency

    def __str__(self):
        return f"Name: {self.Name}\n{super().__str__()}\nCurrency: {self.Currency}"

# Example usage:
product1 = Product("P123", "Widget", "A simple widget", 10.99)
print(product1)

# Create an ItemPrice instance associated with the product
item1 = ItemPrice(product1.ProductID, product1.Price, product1.Name, "USD")
print(item1)

# Update the price of the item
item1.update_price(12.99)
print(item1)
